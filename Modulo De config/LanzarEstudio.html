<!DOCTYPE html>
<html data-bs-theme="light" lang="en" style="height: 100%;">

<head>
    <meta charset="utf-8">
    <link rel="icon" type="image/x-icon" href="assets/img/NegroLogo.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Lanzamiento</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=League+Spartan&amp;display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="assets/fonts/ionicons.min.css">
    <link rel="stylesheet" href="assets/css/bs-theme-overrides.css">
    <link rel="stylesheet" href="assets/css/Features-Small-Icons-icons.css">
    <link rel="stylesheet" href="assets/css/untitled.css">
    <link rel="stylesheet" href="assets/assets_accounts/css/Hover.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/2.0.3/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <link rel="stylesheet" href="assets/assets_accounts/css/Hover.css">

    <style>
        .disabled {
            pointer-events: none;
            opacity: 0.6;
        }

        /* Modern page styling - BASE */

        /* Contenedor principal con efecto cristal */
        #contentCard_PaginaOverview {
            background: rgba(255, 255, 255, 0.95) !important;
            backdrop-filter: blur(10px);
            border: none !important;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            border-radius: 20px !important;
        }

        /* Secciones modulares */
        .form-section {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: visible;
        }

        .form-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--bs-CR-orange) 0%, #ff8c42 100%);
            border-radius: 15px 15px 0 0;
        }

        /* T铆tulos de secci贸n */
        .form-section p, .section-title {
            font-size: 20px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            position: relative;
            z-index: 2;
            font-family: hedliner !important;
        }

        .form-section p::before, .section-title::before {
            content: '';
            width: 6px;
            height: 6px;
            background: var(--bs-CR-orange);
            border-radius: 50%;
            flex-shrink: 0;
        }

        /* Controles de formulario modernos */
        .form-control {
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 12px 16px;
            font-size: 14px;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.9);
        }

        .form-control:focus {
            border-color: var(--bs-CR-orange);
            box-shadow: 0 0 0 0.2rem rgba(255, 140, 66, 0.25);
            background: #ffffff;
            transform: translateY(-1px);
        }

        .form-control:hover {
            border-color: #dee2e6;
            background: #ffffff;
        }

        /* Select mejorado */
        select.form-control {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
            background-position: right 12px center;
            background-repeat: no-repeat;
            background-size: 16px 12px;
            padding-right: 40px;
        }

        /* Botones modernos */
        .btn {
            border-radius: 10px;
            padding: 12px 24px;
            font-weight: 600;
            font-size: 14px;
            font-family: hedliner !important;
            transition: all 0.3s ease;
            border: none;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
        }

        .btn:active {
            transform: translateY(0);
        }

        /* Bot贸n primario */
        .btn-primary {
            background: linear-gradient(135deg, var(--bs-CR-orange) 0%, #ff8c42 100%);
            color: var(--bs-CR-gray);
            box-shadow: 0 4px 8px rgba(255, 140, 66, 0.3);
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, #ff8c42 0%, var(--bs-CR-orange) 100%);
            box-shadow: 0 8px 16px rgba(255, 140, 66, 0.4);
        }

        /* Grupos de botones */
        .button-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            align-items: center;
        }

        /* Lista de elementos */
        .list-group {
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            margin-bottom: 20px;
        }

        .list-group-item {
            border: none;
            padding: 15px 20px;
            background: rgba(255, 255, 255, 0.9);
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }

        .list-group-item:hover {
            background: rgba(255, 140, 66, 0.05);
            transform: translateX(5px);
        }

        .list-group-item:last-child {
            border-bottom: none;
        }

        /* Cards modulares */
        .card {
            border: none;
            border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.08);
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            overflow: hidden;
            position: relative;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--bs-CR-orange) 0%, #ff8c42 100%);
        }

        .card-header {
            background: rgba(255, 255, 255, 0.5);
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            padding: 20px;
        }

        .card-body {
            padding: 20px;
        }

        /* Footer */
        .footer-text {
            background: rgba(255, 255, 255, 0.9);
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            color: #6c757d;
            font-size: 12px;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        /* Animaciones */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .form-section, .card {
            animation: fadeInUp 0.6s ease-out;
        }

        .form-section:nth-child(1) { animation-delay: 0s; }
        .form-section:nth-child(2) { animation-delay: 0.1s; }
        .form-section:nth-child(3) { animation-delay: 0.2s; }
        .form-section:nth-child(4) { animation-delay: 0.3s; }
        .form-section:nth-child(5) { animation-delay: 0.4s; }
        .form-section:nth-child(6) { animation-delay: 0.5s; }

        /* Overlay mejorado */
        #overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 99999;
            display: none;
        }

        #overlayContent {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            padding: 30px;
            border-radius: 20px;
            width: 90%;
            max-width: 600px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }

        #overlayContent::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--bs-CR-orange) 0%, #ff8c42 100%);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .form-section {
                padding: 20px;
                margin-bottom: 20px;
            }
            
            .btn {
                width: 100%;
                margin-bottom: 10px;
            }

            .button-group {
                flex-direction: column;
                align-items: stretch;
            }
        }

        /* Sidebar z-index fix */
        .sidebar {
            z-index: 1000 !important;
        }

        /* Modal de compartir */
        .share-modal {
            display: none;
            position: fixed;
            z-index: 100000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
        }

        .share-modal-content {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            margin: 5% auto;
            padding: 0;
            border-radius: 20px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .share-modal-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--bs-CR-orange) 0%, #ff8c42 100%);
        }

        .share-modal-header {
            padding: 25px 30px;
            background: rgba(255, 255, 255, 0.5);
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .share-modal-header h5 {
            margin: 0;
            font-family: hedliner;
            font-size: 22px;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .close-modal {
            background: transparent;
            border: none;
            font-size: 28px;
            color: #6c757d;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .close-modal:hover {
            background: rgba(255, 140, 66, 0.1);
            color: var(--bs-CR-orange);
            transform: rotate(90deg);
        }

        .share-modal-body {
            padding: 30px;
        }

        .share-option {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border: 2px solid #e9ecef;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .share-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 140, 66, 0.1), transparent);
            transition: left 0.5s;
        }

        .share-option:hover::before {
            left: 100%;
        }

        .share-option:hover {
            border-color: var(--bs-CR-orange);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 140, 66, 0.2);
        }

        .share-option:active {
            transform: translateY(-1px);
        }

        .share-option.disabled {
            opacity: 0.5;
            cursor: not-allowed;
            pointer-events: none;
        }

        .share-option-title {
            font-family: hedliner;
            font-size: 16px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .share-option-description {
            font-family: 'IBM Plex Sans', sans-serif;
            font-size: 13px;
            color: #6c757d;
            margin: 0;
        }

        .coming-soon-badge {
            display: inline-block;
            background: linear-gradient(135deg, var(--bs-CR-orange) 0%, #ff8c42 100%);
            color: white;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            margin-left: auto;
        }

        #qrCodeContainer {
            display: none;
            text-align: center;
            margin-top: 20px;
            padding: 20px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        #qrcode {
            display: inline-block;
            padding: 15px;
            background: linear-gradient(135deg, var(--bs-CR-orange) 0%, #ff8c42 100%);
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(255, 140, 66, 0.3);
        }

        #qrcode canvas,
        #qrcode img {
            border-radius: 8px;
        }

        .toast-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            padding: 15px 25px;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
            z-index: 100001;
            font-family: hedliner;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 10px;
            animation: slideInRight 0.3s ease-out;
        }

        @keyframes slideInRight {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOutRight {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(400px);
                opacity: 0;
            }
        }

        .toast-notification.hiding {
            animation: slideOutRight 0.3s ease-out;
        }
    </style>
    <style>
        /*media query para que desaparezca el img si el display no es hd+*/
        @media (max-width: 1080px) {
            img {
                display: none;
            }
        }
        
    </style>
</head>

<body id="page-top" style="overflow-y: hidden;" onload="load()">
    <div id="wrapper">
        <nav class="navbar d-lg-flex d-xl-flex d-xxl-flex align-items-lg-end align-items-xxl-start sidebar sidebar-dark accordion bg-gradient-primary p-0 navbar-dark" style="border-top-right-radius: 10px; border-bottom-right-radius: 10px; background: #000000;">
            <div class="container-fluid d-flex flex-column p-0">
                <a class="navbar-brand d-xxl-flex align-items-center justify-content-xxl-center align-items-xxl-center sidebar-brand m-0" href="https://www.cheetah-research.ai/home/"><img style="height: auto;width: 189px;margin: -11px;margin-bottom: 0px; margin-top: 10px;" src="assets/img/NegroLogo.png" /></a>
                <p class="text-light" id="nombreProyectoLbl" style="font-family: 'hedliner', sans-serif;font-size: 12px;margin-left: 10px;"></p>
                <div style="height: 30px;"></div>
                <ul id="accordionSidebar" class="navbar-nav text-light" style="font-family: hedliner;">
                    <li id="CreacionDeEstudioLNK" class="nav-item" style="font-family: hedliner;">
                        <a class="nav-link" href="https://www.cheetah-research.ai/configuration/study/" style="font-family: Nunito, sans-serif;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 20 20" fill="none" style="font-size: 20px;font-family: hedliner;color: var(--bs-CR-orange);">
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M10 18C14.4183 18 18 14.4183 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 14.4183 5.58172 18 10 18ZM11 7C11 6.44772 10.5523 6 10 6C9.44772 6 9 6.44772 9 7V9H7C6.44772 9 6 9.44771 6 10C6 10.5523 6.44772 11 7 11H9V13C9 13.5523 9.44772 14 10 14C10.5523 14 11 13.5523 11 13V11H13C13.5523 11 14 10.5523 14 10C14 9.44772 13.5523 9 13 9H11V7Z" fill="currentColor"></path>
                            </svg>
                            <span style="font-family: hedliner;" data-i18n="navbar.create_study">CREACION DE ESTUDIO</span>
                        </a>
                    </li>
                    <li id="CreacionDeEncuestadorLNK" class="nav-item" style="font-family: hedliner;">
                        <a class="nav-link" href="https://www.cheetah-research.ai/configuration/interviewer/" style="font-family: hedliner;">
                            <i class="icon ion-android-people" style="font-size: 20px;font-family: hedliner;color: var(--bs-CR-orange);"></i>
                            <span style="font-family: hedliner;" data-i18n="navbar.pollster">ENCUESTADOR</span>
                        </a>
                    </li>
                    <li id="CreacionDeEncuestaLNK" class="nav-item" style="font-family: hedliner;">
                        <a class="nav-link" href="https://www.cheetah-research.ai/configuration/survey/" style="font-family: hedliner;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 20 20" fill="none" style="font-size: 21px;font-family: hedliner;color: var(--bs-CR-orange);">
                                <path d="M8 2C7.44772 2 7 2.44772 7 3C7 3.55228 7.44772 4 8 4H10C10.5523 4 11 3.55228 11 3C11 2.44772 10.5523 2 10 2H8Z" fill="currentColor"></path>
                                <path d="M3 5C3 3.89543 3.89543 3 5 3C5 4.65685 6.34315 6 8 6H10C11.6569 6 13 4.65685 13 3C14.1046 3 15 3.89543 15 5V11H10.4142L11.7071 9.70711C12.0976 9.31658 12.0976 8.68342 11.7071 8.29289C11.3166 7.90237 10.6834 7.90237 10.2929 8.29289L7.29289 11.2929C6.90237 11.6834 6.90237 12.3166 7.29289 12.7071L10.2929 15.7071C10.6834 16.0976 11.3166 16.0976 11.7071 15.7071C12.0976 15.3166 12.0976 14.6834 11.7071 14.2929L10.4142 13H15V16C15 17.1046 14.1046 18 13 18H5C3.89543 18 3 17.1046 3 16V5Z" fill="currentColor"></path>
                                <path d="M15 11H17C17.5523 11 18 11.4477 18 12C18 12.5523 17.5523 13 17 13H15V11Z" fill="currentColor"></path>
                            </svg>
                            <span style="font-family: hedliner;" data-i18n="navbar.survey">ENCUESTA</span>
                        </a>
                    </li>
                    <li id="LanzarEncuestaLNK" class="nav-item" style="font-family: hedliner;">
                        <a class="nav-link active" href="https://www.cheetah-research.ai/configuration/launch/" style="font-family: hedliner;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 20 20" fill="none" style="font-size: 20px;font-family: hedliner;color: var(--bs-CR-orange);">
                                <path d="M4.5547 5.16795C4.24784 4.96338 3.8533 4.94431 3.52814 5.11833C3.20298 5.29235 3 5.63121 3 6V14C3 14.3688 3.20298 14.7077 3.52814 14.8817C3.8533 15.0557 4.24784 15.0366 4.5547 14.8321L10 11.2019V14C10 14.3688 10.203 14.7077 10.5281 14.8817C10.8533 15.0557 11.2478 15.0366 11.5547 14.8321L17.5547 10.8321C17.8329 10.6466 18 10.3344 18 10C18 9.66565 17.8329 9.35342 17.5547 9.16795L11.5547 5.16795C11.2478 4.96338 10.8533 4.94431 10.5281 5.11833C10.203 5.29235 10 5.63121 10 6V8.79815L4.5547 5.16795Z" fill="currentColor"></path>
                            </svg>
                            <span style="font-family: hedliner;" data-i18n="navbar.launch_study">LANZAR ESTUDIO</span>
                        </a>
                    </li>
                    <li id="InformacionDeEstudioLNK" class="nav-item" style="font-family: hedliner;">
                        <a class="nav-link" href="https://www.cheetah-research.ai/configuration/studyInfo/" style="font-family: hedliner;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 20 20" fill="none" style="font-size: 20px;font-family: hedliner;color: var(--bs-CR-orange);">
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M2 5C2 3.89543 2.89543 3 4 3H12C13.1046 3 14 3.89543 14 5V15C14 16.1046 14.8954 17 16 17H4C2.89543 17 2 16.1046 2 15V5ZM5 6H11V10H5V6ZM11 12H5V14H11V12Z" fill="currentColor"></path>
                                <path d="M15 7H16C17.1046 7 18 7.89543 18 9V14.5C18 15.3284 17.3284 16 16.5 16C15.6716 16 15 15.3284 15 14.5V7Z" fill="currentColor"></path>
                            </svg>
                            <span style="font-family: hedliner;" data-i18n="navbar.study_info">INFORMACION DE ESTUDIO</span>
                        </a>
                    </li>
                    <li id="VisualizacionDeResultadosLNK" class="nav-item" style="font-family: hedliner;">
                        <a class="nav-link" href="https://www.cheetah-research.ai/configuration/data_display/" style="font-family: hedliner;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 20 20" fill="none" style="font-size: 20px;font-family: Nunito, sans-serif;color: var(--bs-CR-orange);">
                                <path d="M2 11C2 10.4477 2.44772 10 3 10H5C5.55228 10 6 10.4477 6 11V16C6 16.5523 5.55228 17 5 17H3C2.44772 17 2 16.5523 2 16V11Z" fill="currentColor"></path>
                                <path d="M8 7C8 6.44772 8.44772 6 9 6H11C11.5523 6 12 6.44772 12 7V16C12 16.5523 11.5523 17 11 17H9C8.44772 17 8 16.5523 8 16V7Z" fill="currentColor"></path>
                                <path d="M14 4C14 3.44772 14.4477 3 15 3H17C17.5523 3 18 3.44772 18 4V16C18 16.5523 17.5523 17 17 17H15C14.4477 17 14 16.5523 14 16V4Z" fill="currentColor"></path>
                            </svg>
                            <span style="font-family: hedliner;" data-i18n="navbar.results">VISUALIZACION DE RESULTADOS</span>
                        </a>
                    </li>
                    <li id="HerramientasDeAdminLNK" class="nav-item" style="font-family: hedliner;">
                        <a class="nav-link" href="https://www.cheetah-research.ai/configuration/admin/" style="font-family: hedliner;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 20 20" fill="none" style="font-size: 20px;color: var(--bs-CR-orange);">
                                <path d="M5 4C5 3.44772 4.55228 3 4 3C3.44772 3 3 3.44772 3 4V11.2676C2.4022 11.6134 2 12.2597 2 13C2 13.7403 2.4022 14.3866 3 14.7324V16C3 16.5523 3.44772 17 4 17C4.55228 17 5 16.5523 5 16V14.7324C5.5978 14.3866 6 13.7403 6 13C6 12.2597 5.5978 11.6134 5 11.2676V4Z" fill="currentColor"></path>
                                <path d="M11 4C11 3.44772 10.5523 3 10 3C9.44772 3 9 3.44772 9 4V5.26756C8.4022 5.61337 8 6.25972 8 7C8 7.74028 8.4022 8.38663 9 8.73244V16C9 16.5523 9.44772 17 10 17C10.5523 17 11 16.5523 11 16V8.73244C11.5978 8.38663 12 7.74028 12 7C12 6.25972 11.5978 5.61337 11 5.26756V4Z" fill="currentColor"></path>
                                <path d="M16 3C16.5523 3 17 3.44772 17 4V11.2676C17.5978 11.6134 18 12.2597 18 13C18 13.7403 17.5978 14.3866 17 14.7324V16C17 16.5523 16.5523 17 16 17C15.4477 17 15 16.5523 15 16V14.7324C14.4022 14.3866 14 13.7403 14 13C14 12.2597 14.4022 11.6134 15 11.2676V4C15 3.44772 15.4477 3 16 3Z" fill="currentColor"></path>
                            </svg>
                            <span style="font-family: hedliner;" data-i18n="navbar.admin_tools">HERRAMIENTAS</span>
                        </a>
                    </li>
                </ul>
            </div>
        </nav>
        <div class="d-flex flex-column" id="content-wrapper">
            <div id="content">
                <div class="card" id="contentCard_PaginaOverview" style="margin: 0px;height: calc(100vh - 1px);padding: 10px;overflow-y: scroll;">

                    <div id="overlay" style="display: none;">
                    
                    </div>

                    <form class="p-3 p-xl-4" method="post">
                        <div class="form-section">
                            <p class="section-title" data-i18n="LanzarEstudio.hFilters">
                                <i class="fas fa-filter"></i>
                                Filtros
                            </p>
                            <input class="form-control" type="text" id="FiltrosTXT" name="bservaciones Importantes"  data-i18n-placeholder="LanzarEstudio.inFilters" style="font-family: IBM Plex Sans;">
                            <div class="button-group" style="margin-top: 15px; margin-bottom: 15px;">
                                <button class="btn btn-primary" id="AgregarFiltroBTN" type="button" style="font-family: hedliner;" data-i18n="LanzarEstudio.btAdd">
                                    <i class="fas fa-plus"></i>
                                    Agregar
                                </button>
                                <button class="btn btn-primary" id="guardarFitroBTN" type="button" style="font-family: hedliner;" data-i18n="LanzarEstudio.btSave">
                                    <i class="fas fa-save"></i>
                                    Guardar
                                </button>
                            </div>
                            <ul class="list-group" id="FiltrosLST" style="font-family: hedliner;"></ul>
                        </div>

                        <div class="form-section">
                            <p class="section-title" data-i18n="LanzarEstudio.hDomains">
                                <i class="fas fa-globe"></i>
                                Dominios Autorizados
                            </p>
                            <input class="form-control" type="text" id="DominiosTXT" name="bservaciones Importantes" placeholder="marketing-total.com" style="font-family: IBM Plex Sans;">
                            <div class="button-group" style="margin-top: 15px; margin-bottom: 15px;">
                                <button class="btn btn-primary" id="AgregarDominioBTN" type="button" style="font-family: hedliner;" data-i18n="LanzarEstudio.btAdd">
                                    <i class="fas fa-plus"></i>
                                    Agregar
                                </button>
                                <button class="btn btn-primary" id="guardarDominioBTN" type="button" style="font-family: hedliner;" data-i18n="LanzarEstudio.btSave">
                                    <i class="fas fa-save"></i>
                                    Guardar
                                </button>
                            </div>
                            <ul class="list-group" id="DominiosLST" style="font-family: hedliner;"></ul>
                        </div>

                        <div class="form-section">
                            <p class="section-title" data-i18n="LanzarEstudio.hDeployConfig">
                                <i class="fas fa-cogs"></i>
                                Configurar Deploy de analisis de datos
                            </p>
                            <select id="Combobox_Modules" class="form-control" style="font-family: IBM Plex Sans; margin-bottom: 15px;">
                                <option value="general" data-i18n="LanzarEstudio.modGeneral">Modulo de Analisis General</option>
                                <option value="individual_questions" data-i18n="LanzarEstudio.modAnalysis">Modulo de Analisis Individuales</option>
                                <option value="psicographic_questions" data-i18n="LanzarEstudio.modPsicographic">Modulo de Analisis Psicograficos</option>
                                <option value="user_personas" data-i18n="LanzarEstudio.modUserPersona">Modulo de User Personas</option>
                                <option value="customer_experience" data-i18n="LanzarEstudio.modCustomerExperience">Modulo Customer Experience</option>
                                <option value="customer_satisfaction" data-i18n="LanzarEstudio.modCustomerSatisfaction">Modulo NPS y Satisfaccion</option>
                                <option value="BrandStatus" data-i18n="LanzarEstudio.modBrandStatus">Modulo Brand Status</option>
                                <option value="ClimaLaboral" data-i18n="LanzarEstudio.modClimaLaboral">Modulo Clima Laboral</option>
                                <option value="CustomerJourney" data-i18n="LanzarEstudio.modCustomerJourney">Modulo Customer Journey</option>
                                <option value="Reputacion" data-i18n="LanzarEstudio.modReputacion">Modulo Reputaci贸n</option>
                                <option value="PruebaProducto" data-i18n="LanzarEstudio.modPruebaProducto">Modulo Prueba de Producto</option>
                            </select>
                            <div class="button-group" style="margin-bottom: 15px;">
                                <button class="btn btn-primary" id="AgregarModuloBTN" type="button" style="font-family: hedliner;" data-i18n="LanzarEstudio.btAdd">
                                    <i class="fas fa-plus"></i>
                                    Agregar
                                </button>
                                <button class="btn btn-primary" id="guardarModuloBTN" type="button" style="font-family: hedliner;" data-i18n="LanzarEstudio.btSave">
                                    <i class="fas fa-save"></i>
                                    Guardar
                                </button>
                            </div>
                            <ul class="list-group" id="ModulesLST" style="font-family: IBM Plex Sans;"></ul>
                        </div>

                        <div class="form-section">
                            <p class="section-title" data-i18n="LanzarEstudio.hSuggQuestion">
                                <i class="fas fa-question-circle"></i>
                                Preguntas Sugeridas
                            </p>
                            <input class="form-control" type="text" id="PreguntasTXT" name="bservaciones Importantes"  data-i18n-placeholder="LanzarEstudio.inSuggQuestion" style="font-family: IBM Plex Sans;">
                            <div class="button-group" style="margin-top: 15px; margin-bottom: 15px;">
                                <button class="btn btn-primary" id="AgregarPreguntaBTN" type="button" style="font-family: hedliner;" data-i18n="LanzarEstudio.btAdd">
                                    <i class="fas fa-plus"></i>
                                    Agregar
                                </button>
                                <button class="btn btn-primary" id="guardarPreguntaBTN" type="button" style="font-family: hedliner;" data-i18n="LanzarEstudio.btSave">
                                    <i class="fas fa-save"></i>
                                    Guardar
                                </button>
                            </div>
                            <ul class="list-group" id="PreguntasLST" style="font-family: hedliner;"></ul>
                        </div>

                        <div style="height: 5px;background: var(--bs-CR-orange);margin-top: 24px;margin-bottom: 14px;border-radius : 13px;"></div>

                        <div class="card mb-4">
                            <div class="card-header py-3">
                                <h6 id="HeaderPrincipalRecoleccion" class="m-0" style="color: rgb(0,0,0);font-family: hedliner;" data-i18n="LanzarEstudio.hRecollectionModule">
                                    <i class="fas fa-database"></i>
                                    Modulo de Recolecci贸n de Datos
                                </h6>
                            </div>
                            <div class="card-body">
                                <p id="ModuloDeRecoleccionURL" class="m-0" style="font-family: IBM Plex Sans;" data-i18n="LanzarEstudio.aRecollectionModule">LinkModuloRecoleccionDeDatos.com</p>
                                <div class="button-group" style="margin-top: 15px;">
                                    <button id="StatusBtn_Recoleccion" class="btn btn-primary" style="font-family: hedliner;" data-i18n="LanzarEstudio.btChangeState">
                                        <i class="fas fa-toggle-on"></i>
                                        Cambiar Estado
                                    </button>
                                    <button id="ShareBtn_Recoleccion" class="btn btn-primary" style="font-family: hedliner;">
                                        <i class="fas fa-share-alt"></i>
                                        Compartir
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="card mb-4">
                            <div class="card-header py-3">
                                <h6 id="HeaderPrincipalAnalisis" class="m-0" style="color: var(--bs-CR-black-dark); font-family: hedliner;" data-i18n="LanzarEstudio.hAnalysisModule">
                                    <i class="fas fa-chart-bar"></i>
                                    M贸dulo de An谩lisis de Datos
                                </h6>
                                <h6 id="OTP_Analisis" class="m-0" style="color: var(--bs-CR-black-dark); font-family: hedliner; margin: 10px"></h6>
                            </div>
                            <div class="card-body">
                                <p id="ModuloDeAnalisisURL" class="m-0" style="font-family: IBM Plex Sans;" data-i18n="LanzarEstudio.aAnalysisModule">LinkModuloAnalisisDeDatos.com</p>
                                <div class="button-group" style="margin-top: 15px;">
                                    <button id="StatusBtn_Analisis" class="btn btn-primary" style="font-family: hedliner;" data-i18n="LanzarEstudio.btChangeState">
                                        <i class="fas fa-toggle-on"></i>
                                        Cambiar Estado
                                    </button>
                                    <button id="OTPBtn_Analisis" class="btn btn-primary" style="font-family: hedliner;" data-i18n="LanzarEstudio.btOTP">
                                        <i class="fas fa-key"></i>
                                        Generar OTP
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="card mb-4">
                            <div class="card-header py-3" style="display: flex; align-items: center; justify-content: space-between;">
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <h6 class="m-0" style="color: var(--bs-CR-black-dark); font-family: hedliner;">
                                        <i class="fas fa-desktop"></i>
                                        Modo Kiosko
                                    </h6>
                                    <button id="InfoKioskoBtn" class="btn btn-sm" style="background: transparent; border: 2px solid var(--bs-CR-orange); color: var(--bs-CR-orange); padding: 2px 8px; font-size: 12px; border-radius: 50%; width: 24px; height: 24px; display: flex; align-items: center; justify-content: center;" title="Informaci贸n sobre el Modo Kiosko">
                                        <i class="fas fa-info" style="font-size: 10px;"></i>
                                    </button>
                                </div>
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <span style="font-family: IBM Plex Sans; font-size: 14px; color: #6c757d;">Estado:</span>
                                    <span id="KioskoStatus" style="font-family: hedliner; font-weight: bold; font-size: 14px; padding: 4px 12px; border-radius: 6px; background: #e9ecef; color: #6c757d;">
                                        <i class="fas fa-circle" style="font-size: 8px;"></i>
                                        Inactivo
                                    </span>
                                </div>
                            </div>
                            <div class="card-body">
                                <p class="m-0" style="font-family: IBM Plex Sans; color: #6c757d; font-size: 14px; margin-bottom: 15px !important;">
                                    El Modo Kiosko permite que la encuesta se realice m煤ltiples veces desde el mismo dispositivo sin restricciones de tiempo.
                                </p>
                                <button id="StatusBtn_Kiosko" class="btn btn-primary" style="font-family: hedliner;">
                                    <i class="fas fa-toggle-on"></i>
                                    Cambiar Estado
                                </button>
                            </div>
                        </div>

                        <div class="form-section" style="text-align: center;">
                            <button class="btn btn-primary" id="LanzarEstudioBtn" type="submit" style="font-weight: bold;font-size: 18px;padding: 15px 40px; font-family: hedliner;" data-i18n="LanzarEstudio.btLaunch">
                                <i class="fas fa-rocket"></i>
                                Lanzar Estudio
                            </button>
                        </div>
                    </form>
                    
                    <div class="footer-text">
                        <strong>Cheetah Research</strong><span> es una marca registrada de </span><strong>Marketing Total S.A.</strong><span> Todos los derechos reservados.</span>
                    </div>

                </div>
                
            </div>
        </div>
    </div>

    <!-- Modal de compartir -->
    <div id="shareModal" class="share-modal">
        <div class="share-modal-content">
            <div class="share-modal-header">
                <h5>
                    <i class="fas fa-share-alt"></i>
                    Compartir Encuesta
                </h5>
                <button class="close-modal">&times;</button>
            </div>
            <div class="share-modal-body">
                <div class="share-option" id="copyLinkOption">
                    <div class="share-option-title">
                        <i class="fas fa-link"></i>
                        Copiar Link Normal
                    </div>
                    <p class="share-option-description">Copia el enlace de la encuesta al portapapeles</p>
                </div>

                <div class="share-option" id="copyQROption">
                    <div class="share-option-title">
                        <i class="fas fa-qrcode"></i>
                        Copiar C贸digo QR
                    </div>
                    <p class="share-option-description">Genera y copia el c贸digo QR al portapapeles</p>
                </div>

                <div id="qrCodeContainer">
                    <div id="qrcode"></div>
                </div>

                <div class="share-option disabled">
                    <div class="share-option-title">
                        <i class="fas fa-users"></i>
                        Cheetah Research Panel
                        <span class="coming-soon-badge">Coming Soon</span>
                    </div>
                    <p class="share-option-description">Accede a nuestro panel de encuestados</p>
                </div>
            </div>
        </div>
    </div>

    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/bs-init.js"></script>
    <script src="assets/js/theme.js"></script>
    <script src="js/script_LanzarEstudio.js"></script>
    <script src="js/Script_RecoleccionDeDatos.js"></script>
    <script src="js/Script_CheckSession.js"></script>
    <script src="js/i18n.js"></script>

    <script>
        // Funcionalidad del modal de compartir
        const shareModal = document.getElementById('shareModal');
        const shareBtn = document.getElementById('ShareBtn_Recoleccion');
        const closeModalBtn = document.querySelector('.close-modal');
        const copyLinkOption = document.getElementById('copyLinkOption');
        const copyQROption = document.getElementById('copyQROption');
        const qrCodeContainer = document.getElementById('qrCodeContainer');
        const qrcodeDiv = document.getElementById('qrcode');
        let qrCodeGenerated = false;
        let currentQRDataURL = null;

        // Funci贸n para mostrar notificaci贸n
        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'toast-notification';
            toast.innerHTML = `
                <i class="fas fa-check-circle"></i>
                <span>${message}</span>
            `;
            document.body.appendChild(toast);

            setTimeout(() => {
                toast.classList.add('hiding');
                setTimeout(() => {
                    document.body.removeChild(toast);
                }, 300);
            }, 3000);
        }

        // Funci贸n para copiar al portapapeles
        async function copyToClipboard(text) {
            try {
                await navigator.clipboard.writeText(text);
                return true;
            } catch (err) {
                // Fallback para navegadores antiguos
                const textArea = document.createElement('textarea');
                textArea.value = text;
                textArea.style.position = 'fixed';
                textArea.style.left = '-999999px';
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                try {
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                    return true;
                } catch (err) {
                    document.body.removeChild(textArea);
                    return false;
                }
            }
        }

        // Funci贸n para obtener el link de recolecci贸n
        function getRecoleccionLink() {
            const studioID = sessionStorage.getItem('selectedStudyId');
            if (studioID && studioID.trim() !== '') {
                return `https://www.cheetah-research.ai/chatbot?id=${studioID}`;
            }
            return null;
        }

        // Abrir modal
        shareBtn.addEventListener('click', () => {
            const link = getRecoleccionLink();
            if (!link) {
                alert('Por favor, lanza el estudio primero para obtener el enlace.');
                return;
            }
            shareModal.style.display = 'block';
        });

        // Cerrar modal
        closeModalBtn.addEventListener('click', () => {
            shareModal.style.display = 'none';
            qrCodeContainer.style.display = 'none';
            qrCodeGenerated = false;
        });

        // Cerrar modal al hacer clic fuera
        window.addEventListener('click', (e) => {
            if (e.target === shareModal) {
                shareModal.style.display = 'none';
                qrCodeContainer.style.display = 'none';
                qrCodeGenerated = false;
            }
        });

        // Copiar link normal
        copyLinkOption.addEventListener('click', async () => {
            const link = getRecoleccionLink();
            if (link) {
                const success = await copyToClipboard(link);
                if (success) {
                    showToast(' Link copiado al portapapeles');
                } else {
                    alert('Error al copiar el link. Por favor, intenta nuevamente.');
                }
            }
        });

        // Generar y copiar c贸digo QR
        copyQROption.addEventListener('click', async () => {
            const link = getRecoleccionLink();
            if (!link) return;

            // Limpiar QR anterior si existe
            qrcodeDiv.innerHTML = '';
            qrCodeGenerated = false;
            currentQRDataURL = null;

            // Generar nuevo QR
            try {
                const qr = new QRCode(qrcodeDiv, {
                    text: link,
                    width: 200,
                    height: 200,
                    colorDark: '#000000',
                    colorLight: '#ffffff',
                    correctLevel: QRCode.CorrectLevel.H
                });

                // Esperar a que se genere el QR
                setTimeout(async () => {
                    const canvas = qrcodeDiv.querySelector('canvas');
                    if (canvas) {
                        // Convertir canvas a blob
                        canvas.toBlob(async (blob) => {
                            try {
                                // Copiar imagen al portapapeles
                                await navigator.clipboard.write([
                                    new ClipboardItem({
                                        'image/png': blob
                                    })
                                ]);
                                showToast(' C贸digo QR copiado al portapapeles');
                                qrCodeContainer.style.display = 'block';
                                qrCodeGenerated = true;
                            } catch (err) {
                                console.error('Error al copiar QR:', err);
                                // Si falla copiar imagen, mostrar el QR para descarga manual
                                qrCodeContainer.style.display = 'block';
                                qrCodeGenerated = true;
                                showToast('QR generado. Puedes hacer captura de pantalla');
                            }
                        }, 'image/png');
                    } else {
                        // Intentar con img
                        const img = qrcodeDiv.querySelector('img');
                        if (img) {
                            qrCodeContainer.style.display = 'block';
                            qrCodeGenerated = true;
                            showToast('QR generado. Puedes hacer captura de pantalla');
                        }
                    }
                }, 500);
            } catch (error) {
                console.error('Error al generar QR:', error);
                alert('Error al generar el c贸digo QR. Por favor, intenta nuevamente.');
            }
        });
    </script>
</body>

</html>



